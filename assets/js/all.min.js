$.fn.extend({isOnScreenVisible:function(){var e=$(window),t={top:e.scrollTop(),left:e.scrollLeft()};t.right=t.left+e.width(),t.bottom=t.top+e.height();var a=this.offset();return a.right=a.left+this.outerWidth(),a.bottom=a.top+this.outerHeight(),!(t.right<a.left||t.left>a.right||t.bottom<a.top||t.top>a.bottom)}});var scrollme=function(e){var t={},a=e(document),o=e(window);return t.body_height=0,t.viewport_height=0,t.viewport_top=0,t.viewport_bottom=0,t.viewport_top_previous=-1,t.elements=[],t.elements_in_view=[],t.property_defaults={opacity:1,translatex:0,translatey:0,translatez:0,rotatex:0,rotatey:0,rotatez:0,scale:1,scalex:1,scaley:1,scalez:1},t.scrollme_selector=".scrollme",t.animateme_selector=".animateme",t.update_interval=10,t.easing_functions={linear:function(e){return e},easeout:function(e){return e*e*e},easein:function(e){return e=1-e,1-e*e*e},easeinout:function(e){return.5>e?4*e*e*e:(e=1-e,1-4*e*e*e)}},t.init_events=["ready","page:load","page:change"],t.init_if=function(){return!0},t.init=function(){return t.init_if()?(t.init_elements(),t.on_resize(),o.on("resize orientationchange",function(){t.on_resize()}),o.load(function(){setTimeout(function(){t.on_resize()},100)}),setInterval(t.update,t.update_interval),!0):!1},t.init_elements=function(){e(t.scrollme_selector).each(function(){var a={};a.element=e(this);var o=[];e(this).find(t.animateme_selector).addBack(t.animateme_selector).each(function(){var a={};a.element=e(this),a.when=a.element.data("when"),a.from=a.element.data("from"),a.to=a.element.data("to"),a.element.is("[data-crop]")?a.crop=a.element.data("crop"):a.crop=!0,a.element.is("[data-easing]")?a.easing=t.easing_functions[a.element.data("easing")]:a.easing=t.easing_functions.easeout;var i={};a.element.is("[data-opacity]")&&(i.opacity=a.element.data("opacity")),a.element.is("[data-translatex]")&&(i.translatex=a.element.data("translatex")),a.element.is("[data-translatey]")&&(i.translatey=a.element.data("translatey")),a.element.is("[data-translatez]")&&(i.translatez=a.element.data("translatez")),a.element.is("[data-rotatex]")&&(i.rotatex=a.element.data("rotatex")),a.element.is("[data-rotatey]")&&(i.rotatey=a.element.data("rotatey")),a.element.is("[data-rotatez]")&&(i.rotatez=a.element.data("rotatez")),a.element.is("[data-scale]")&&(i.scale=a.element.data("scale")),a.element.is("[data-scalex]")&&(i.scalex=a.element.data("scalex")),a.element.is("[data-scaley]")&&(i.scaley=a.element.data("scaley")),a.element.is("[data-scalez]")&&(i.scalez=a.element.data("scalez")),a.properties=i,o.push(a)}),a.effects=o,t.elements.push(a)})},t.update=function(){window.requestAnimationFrame(function(){t.update_viewport_position(),t.viewport_top_previous!=t.viewport_top&&(t.update_elements_in_view(),t.animate()),t.viewport_top_previous=t.viewport_top})},t.animate=function(){for(var e=t.elements_in_view.length,a=0;e>a;a++)for(var o=t.elements_in_view[a],i=o.effects.length,n=0;i>n;n++){var s=o.effects[n];switch(s.when){case"view":case"span":var l=o.top-t.viewport_height,r=o.bottom;break;case"exit":var l=o.bottom-t.viewport_height,r=o.bottom;break;default:var l=o.top-t.viewport_height,r=o.top}s.crop&&(0>l&&(l=0),r>t.body_height-t.viewport_height&&(r=t.body_height-t.viewport_height));var c=(t.viewport_top-l)/(r-l),d=s.from,m=s.to,p=m-d,h=(c-d)/p,u=s.easing(h),f=t.animate_value(c,u,d,m,s,"opacity"),v=t.animate_value(c,u,d,m,s,"translatey"),g=t.animate_value(c,u,d,m,s,"translatex"),_=t.animate_value(c,u,d,m,s,"translatez"),w=t.animate_value(c,u,d,m,s,"rotatex"),$=t.animate_value(c,u,d,m,s,"rotatey"),b=t.animate_value(c,u,d,m,s,"rotatez"),y=t.animate_value(c,u,d,m,s,"scale"),x=t.animate_value(c,u,d,m,s,"scalex"),z=t.animate_value(c,u,d,m,s,"scaley"),k=t.animate_value(c,u,d,m,s,"scalez");"scale"in s.properties&&(x=y,z=y,k=y),s.element.css({opacity:f,transform:"translate3d( "+g+"px , "+v+"px , "+_+"px ) rotateX( "+w+"deg ) rotateY( "+$+"deg ) rotateZ( "+b+"deg ) scale3d( "+x+" , "+z+" , "+k+" )","-webkit-transform":"translate3d( "+g+"px , "+v+"px , "+_+"px ) rotateX( "+w+"deg ) rotateY( "+$+"deg ) rotateZ( "+b+"deg ) scale3d( "+x+" , "+z+" , "+k+" )"})}},t.animate_value=function(e,a,o,i,n,s){var l=t.property_defaults[s];if(!(s in n.properties))return l;var r=n.properties[s],c=i>o?!0:!1;if(o>e&&c)return l;if(e>i&&c)return r;if(e>o&&!c)return l;if(i>e&&!c)return r;var d=l+a*(r-l);switch(s){case"opacity":d=d.toFixed(2);break;case"translatex":d=d.toFixed(0);break;case"translatey":d=d.toFixed(0);break;case"translatez":d=d.toFixed(0);break;case"rotatex":d=d.toFixed(1);break;case"rotatey":d=d.toFixed(1);break;case"rotatez":d=d.toFixed(1);break;case"scale":d=d.toFixed(3)}return d},t.update_viewport_position=function(){t.viewport_top=o.scrollTop(),t.viewport_bottom=t.viewport_top+t.viewport_height},t.update_elements_in_view=function(){t.elements_in_view=[];for(var e=t.elements.length,a=0;e>a;a++)t.elements[a].top<t.viewport_bottom&&t.elements[a].bottom>t.viewport_top&&t.elements_in_view.push(t.elements[a])},t.on_resize=function(){t.update_viewport(),t.update_element_heights(),t.update_viewport_position(),t.update_elements_in_view(),t.animate()},t.update_viewport=function(){t.body_height=a.height(),t.viewport_height=o.height()},t.update_element_heights=function(){for(var e=t.elements.length,a=0;e>a;a++){var o=t.elements[a].element.outerHeight(),i=t.elements[a].element.offset();t.elements[a].height=o,t.elements[a].top=i.top,t.elements[a].bottom=i.top+o}},a.on(t.init_events.join(" "),function(){t.init()}),t},Duoshuo={dataThreadKey:location.protocol+"//"+location.host+location.pathname,init:function(){Duoshuo.toggleBox()},toggleBox:function(){$(".toggle-comment").on("click",function(e){if($(".comment-area").has("div").length>0)return void $(".comment-area").empty();var t=document.createElement("div");t.setAttribute("data-thread-key",Duoshuo.dataThreadKey),t.setAttribute("data-url",location.href),t.setAttribute("data-title",$("title").html()),DUOSHUO.EmbedThread(t),$(".comment-area").append(t),$(".comment-area").has("div").length>0&&setTimeout(function(){$(".comment-area").addClass("toggle-up")},500),setTimeout(function(){1==$(".comment-area").isOnScreenVisible()&&$(".toggle-comment").addClass("animated fadeOut").fadeOut(500)},1e3)})}},General={isWeixin:!1,init:function(){General.scrollToPos(),General.checkKey(),General.updateImageWidth();var e=navigator.userAgent.toLowerCase();"micromessenger"==e.match(/MicroMessenger/i)&&(General.isWeixin=!0)},checkKey:function(e){e=e||window.event,"74"==e.keyCode?(console.log("按下键盘"),$("html,body").stop(),$("html,body").animate({scrollTop:$(window).stop().scrollTop()+200},"fast")):"75"==e.keyCode&&($("html,body").stop(),$("html,body").animate({scrollTop:$(window).stop().scrollTop()-200},"fast"))},updateImageWidth:function(){function e(){var e=$(this),t=a.outerWidth(),o=this.naturalWidth;o>=t?e.addClass("full-img"):e.removeClass("full-img")}function t(){o.each(e)}var a=$(".post-content");a.fitVids();var o=$(".single-post-inner img").on("load",e);t()},urlIconlize:function(e){var t,a,o={twitter:"icon-twitter",qzone:"icon-qzone",weibo:"icon-weibo",facebook:"icon-facebook",github:"icon-github",douban:"icon-douban",google:"icon-google",luolei:"icon-luolei",dribble:"icon-dribble"};for(var i in o)if("function"!=typeof o[i]){var n=i;e.indexOf(n)>=0&&(t=n,a=o[n])}return a},addIcons:function(){$(".single-post-inner p a:not(:has(img))").each(function(e){var t=$(this).attr("href"),a=document.createElement("a");a.href=t,_selfDomain=a.hostname,General.urlIconlize(_selfDomain),console.log(_selfDomain),$(this).prepend('<i class="iconfont '+General.urlIconlize(_selfDomain)+'"></i>');var o=$(this).find("i").css("color"),i=$(this).css("color");$(this).hover(function(){$(this).css("color",o),$(this).addClass("animated pulse")},function(){$(this).css("color",i),$(this).removeClass("animated pulse")})})},scrollToPos:function(e){var t="我要飞到最高",a=e||$(window).height(),o=$('<a href="#" id="to-top" title="'+t+'"> <div class="to-top-wrap"></div></a>').appendTo("body");$(window).scroll(function(){$(window).scrollTop()>$(window).height()?o.fadeIn(500):o.fadeOut(500)}),o.click(function(e){e.preventDefault(),$(window).width()>768?$("html,body").animate({scrollTop:0},600,function(){window.location.hash="#"}):$("html,body").animate({scrollTop:a-100},600,function(){window.location.hash="#"}),console.log("我跳")})},resize:function(){visualContainerWidh=$(window).width()}};$(document).ready(function(){General.init(),0==General.isWeixin&&$(window).width()>768&&(console.log("只有大屏和微信上才出动画"),scrollme($)),$("body").hasClass("post-template")&&(General.updateImageWidth(),$('img[alt="cover"]').addClass("cover-image"),General.addIcons(),$(".share h4").on("click",function(){$(this).fadeOut(20),$(".share-icons").css("display","block").addClass("fadeIn animated")}),Duoshuo.init(),$(".single-post-inner p:has(img)").each(function(){var e=$(this);e.addClass("with-img"),1==e.isOnScreenVisible()&&e.addClass("with-img").addClass("already-visible")})),($("body").hasClass("archive-template")||$("body").hasClass("home-template"))&&($(window).width()>768,$(".post-in-list").each(function(){var e=$(this);1==e.isOnScreenVisible()&&e.addClass("already-visible")}),$(".post-excerpt").each(function(){var e=$(this);0==e.has("img").length?(console.log("没有图片"),e.append('<img src="https://luoleiorg.b0.upaiyun.com/tmp/nev-set.jpg"></img>')):console.log("With")})),$(".arrow_down").click(function(){return $("html,body").animate({scrollTop:$(window).height()-20},1e3,function(){}),!1}),$(window).scroll(function(){$(window).scrollTop()>50,$("body").hasClass("post-template")&&(0==$(".share-icons").isOnScreenVisible()&&($(".share-icons").removeClass("fadeInUpBig animated").css("display","none"),$(".share h4").css("display","block")),1==General.isWeixin&&1==$(".copyright").isOnScreenVisible()&&(console.log("显示了"),$(".wechat-notice").css("display","block").addClass("fadeInUpBig animated"))),($("body").hasClass("archive-template")||$("body").hasClass("home-template"))&&$(".post-in-list").each(function(){var e=$(this);1==e.isOnScreenVisible()&&1!=e.hasClass("already-visible")})})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiXSwibmFtZXMiOlsiJCIsImZuIiwiZXh0ZW5kIiwiaXNPblNjcmVlblZpc2libGUiLCJ3aW4iLCJ3aW5kb3ciLCJ2aWV3cG9ydCIsInRvcCIsInNjcm9sbFRvcCIsImxlZnQiLCJzY3JvbGxMZWZ0IiwicmlnaHQiLCJ3aWR0aCIsImJvdHRvbSIsImhlaWdodCIsImJvdW5kcyIsInRoaXMiLCJvZmZzZXQiLCJvdXRlcldpZHRoIiwib3V0ZXJIZWlnaHQiLCJzY3JvbGxtZSIsIl90aGlzIiwiJGRvY3VtZW50IiwiZG9jdW1lbnQiLCIkd2luZG93IiwiYm9keV9oZWlnaHQiLCJ2aWV3cG9ydF9oZWlnaHQiLCJ2aWV3cG9ydF90b3AiLCJ2aWV3cG9ydF9ib3R0b20iLCJ2aWV3cG9ydF90b3BfcHJldmlvdXMiLCJlbGVtZW50cyIsImVsZW1lbnRzX2luX3ZpZXciLCJwcm9wZXJ0eV9kZWZhdWx0cyIsIm9wYWNpdHkiLCJ0cmFuc2xhdGV4IiwidHJhbnNsYXRleSIsInRyYW5zbGF0ZXoiLCJyb3RhdGV4Iiwicm90YXRleSIsInJvdGF0ZXoiLCJzY2FsZSIsInNjYWxleCIsInNjYWxleSIsInNjYWxleiIsInNjcm9sbG1lX3NlbGVjdG9yIiwiYW5pbWF0ZW1lX3NlbGVjdG9yIiwidXBkYXRlX2ludGVydmFsIiwiZWFzaW5nX2Z1bmN0aW9ucyIsImxpbmVhciIsIngiLCJlYXNlb3V0IiwiZWFzZWluIiwiZWFzZWlub3V0IiwiaW5pdF9ldmVudHMiLCJpbml0X2lmIiwiaW5pdCIsImluaXRfZWxlbWVudHMiLCJvbl9yZXNpemUiLCJvbiIsImxvYWQiLCJzZXRUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJ1cGRhdGUiLCJlYWNoIiwiZWxlbWVudCIsImVmZmVjdHMiLCJmaW5kIiwiYWRkQmFjayIsImVmZmVjdCIsIndoZW4iLCJkYXRhIiwiZnJvbSIsInRvIiwiaXMiLCJjcm9wIiwiZWFzaW5nIiwicHJvcGVydGllcyIsInB1c2giLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1cGRhdGVfdmlld3BvcnRfcG9zaXRpb24iLCJ1cGRhdGVfZWxlbWVudHNfaW5fdmlldyIsImFuaW1hdGUiLCJlbGVtZW50c19pbl92aWV3X2xlbmd0aCIsImxlbmd0aCIsImkiLCJlZmZlY3RzX2xlbmd0aCIsImUiLCJzdGFydCIsImVuZCIsInNjcm9sbCIsInNjcm9sbF9yZWxhdGl2ZSIsInNjcm9sbF9lYXNlZCIsImFuaW1hdGVfdmFsdWUiLCJjc3MiLCJ0cmFuc2Zvcm0iLCItd2Via2l0LXRyYW5zZm9ybSIsInByb3BlcnR5IiwidmFsdWVfZGVmYXVsdCIsInZhbHVlX3RhcmdldCIsImZvcndhcmRzIiwibmV3X3ZhbHVlIiwidG9GaXhlZCIsImVsZW1lbnRzX2xlbmd0aCIsInVwZGF0ZV92aWV3cG9ydCIsInVwZGF0ZV9lbGVtZW50X2hlaWdodHMiLCJlbGVtZW50X2hlaWdodCIsInBvc2l0aW9uIiwiam9pbiIsIkR1b3NodW8iLCJkYXRhVGhyZWFkS2V5IiwibG9jYXRpb24iLCJwcm90b2NvbCIsImhvc3QiLCJwYXRobmFtZSIsInRvZ2dsZUJveCIsImNvbnRhaW5lciIsImhhcyIsImVtcHR5IiwiZWwiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiaHJlZiIsImh0bWwiLCJEVU9TSFVPIiwiRW1iZWRUaHJlYWQiLCJhcHBlbmQiLCJhZGRDbGFzcyIsImZhZGVPdXQiLCJHZW5lcmFsIiwiaXNXZWl4aW4iLCJzY3JvbGxUb1BvcyIsImNoZWNrS2V5IiwidXBkYXRlSW1hZ2VXaWR0aCIsIlVBIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImV2ZW50Iiwia2V5Q29kZSIsImNvbnNvbGUiLCJsb2ciLCJzdG9wIiwiJHRoaXMiLCJjb250ZW50V2lkdGgiLCIkcG9zdENvbnRlbnQiLCJpbWFnZVdpZHRoIiwibmF0dXJhbFdpZHRoIiwicmVtb3ZlQ2xhc3MiLCJjYXNwZXJGdWxsSW1nIiwiJGltZyIsImZpdFZpZHMiLCJ1cmxJY29ubGl6ZSIsInVybCIsImRvbWFpbiIsIl9vdXRwdXQiLCJpY29uTWFwIiwidHdpdHRlciIsInF6b25lIiwid2VpYm8iLCJmYWNlYm9vayIsImdpdGh1YiIsImRvdWJhbiIsImdvb2dsZSIsImx1b2xlaSIsImRyaWJibGUiLCJuYW1lIiwiTWFwS2V5IiwiaW5kZXhPZiIsImFkZEljb25zIiwiX3NyYyIsImF0dHIiLCJ0bXAiLCJfc2VsZkRvbWFpbiIsImhvc3RuYW1lIiwicHJlcGVuZCIsIl9zZWxmQ29sb3IiLCJfb3JpZ2luYWxDb2xvciIsImhvdmVyIiwiU1RSX1RPX1RPUCIsImNvdmVySGVpZ2h0IiwiYnV0dG9uIiwiYXBwZW5kVG8iLCJmYWRlSW4iLCJjbGljayIsInByZXZlbnREZWZhdWx0IiwiaGFzaCIsInJlc2l6ZSIsInZpc3VhbENvbnRhaW5lcldpZGgiLCJyZWFkeSIsImhhc0NsYXNzIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsR0FBR0MsUUFDREMsa0JBQW1CLFdBQ2YsR0FBSUMsR0FBTUosRUFBRUssUUFDUkMsR0FDQUMsSUFBS0gsRUFBSUksWUFDVEMsS0FBTUwsRUFBSU0sYUFFZEosR0FBU0ssTUFBUUwsRUFBU0csS0FBT0wsRUFBSVEsUUFDckNOLEVBQVNPLE9BQVNQLEVBQVNDLElBQU1ILEVBQUlVLFFBRXJDLElBQUlDLEdBQVNDLEtBQUtDLFFBSWxCLE9BSEFGLEdBQU9KLE1BQVFJLEVBQU9OLEtBQU9PLEtBQUtFLGFBQ2xDSCxFQUFPRixPQUFTRSxFQUFPUixJQUFNUyxLQUFLRyxnQkFFeEJiLEVBQVNLLE1BQVFJLEVBQU9OLE1BQVFILEVBQVNHLEtBQU9NLEVBQU9KLE9BQVNMLEVBQVNPLE9BQVNFLEVBQU9SLEtBQU9ELEVBQVNDLElBQU1RLEVBQU9GLFVBV3hJLElBQUlPLFVBQVcsU0FBVXBCLEdBSXJCLEdBQUlxQixNQUtBQyxFQUFZdEIsRUFBRXVCLFVBQ2RDLEVBQVV4QixFQUFFSyxPQTZhaEIsT0EzYUFnQixHQUFNSSxZQUFjLEVBRXBCSixFQUFNSyxnQkFBa0IsRUFFeEJMLEVBQU1NLGFBQWUsRUFDckJOLEVBQU1PLGdCQUFrQixFQUV4QlAsRUFBTVEsc0JBQXdCLEdBRTlCUixFQUFNUyxZQUNOVCxFQUFNVSxvQkFFTlYsRUFBTVcsbUJBQ0ZDLFFBQVcsRUFDWEMsV0FBYyxFQUNkQyxXQUFjLEVBQ2RDLFdBQWMsRUFDZEMsUUFBVyxFQUNYQyxRQUFXLEVBQ1hDLFFBQVcsRUFDWEMsTUFBUyxFQUNUQyxPQUFVLEVBQ1ZDLE9BQVUsRUFDVkMsT0FBVSxHQUdkdEIsRUFBTXVCLGtCQUFvQixZQUMxQnZCLEVBQU13QixtQkFBcUIsYUFFM0J4QixFQUFNeUIsZ0JBQWtCLEdBSXhCekIsRUFBTTBCLGtCQUNGQyxPQUFVLFNBQVNDLEdBQ2YsTUFBT0EsSUFHWEMsUUFBVyxTQUFTRCxHQUNoQixNQUFPQSxHQUFJQSxFQUFJQSxHQUduQkUsT0FBVSxTQUFTRixHQUVmLE1BREFBLEdBQUksRUFBSUEsRUFDRCxFQUFLQSxFQUFJQSxFQUFJQSxHQUd4QkcsVUFBYSxTQUFTSCxHQUNsQixNQUFRLEdBQUpBLEVBQ1EsRUFBSUEsRUFBSUEsRUFBSUEsR0FFcEJBLEVBQUksRUFBSUEsRUFDRCxFQUFLLEVBQUlBLEVBQUlBLEVBQUlBLEtBT3BDNUIsRUFBTWdDLGFBQ0YsUUFDQSxZQUNBLGVBTUpoQyxFQUFNaUMsUUFBVSxXQUNaLE9BQU8sR0FNWGpDLEVBQU1rQyxLQUFPLFdBR1QsTUFBS2xDLEdBQU1pQyxXQUlYakMsRUFBTW1DLGdCQUlObkMsRUFBTW9DLFlBSU5qQyxFQUFRa0MsR0FBRywyQkFBNEIsV0FDbkNyQyxFQUFNb0MsY0FLVmpDLEVBQVFtQyxLQUFLLFdBQ1RDLFdBQVcsV0FDUHZDLEVBQU1vQyxhQUNQLE9BS1BJLFlBQVl4QyxFQUFNeUMsT0FBUXpDLEVBQU15QixrQkFFekIsSUE1QnNCLEdBa0NqQ3pCLEVBQU1tQyxjQUFnQixXQUdsQnhELEVBQUVxQixFQUFNdUIsbUJBQW1CbUIsS0FBSyxXQUM1QixHQUFJQyxLQUVKQSxHQUFRQSxRQUFVaEUsRUFBRWdCLEtBRXBCLElBQUlpRCxLQUlKakUsR0FBRWdCLE1BQU1rRCxLQUFLN0MsRUFBTXdCLG9CQUFvQnNCLFFBQVE5QyxFQUFNd0Isb0JBQW9Ca0IsS0FBSyxXQUcxRSxHQUFJSyxLQUVKQSxHQUFPSixRQUFVaEUsRUFBRWdCLE1BRW5Cb0QsRUFBT0MsS0FBT0QsRUFBT0osUUFBUU0sS0FBSyxRQUNsQ0YsRUFBT0csS0FBT0gsRUFBT0osUUFBUU0sS0FBSyxRQUNsQ0YsRUFBT0ksR0FBS0osRUFBT0osUUFBUU0sS0FBSyxNQUU1QkYsRUFBT0osUUFBUVMsR0FBRyxlQUNsQkwsRUFBT00sS0FBT04sRUFBT0osUUFBUU0sS0FBSyxRQUVsQ0YsRUFBT00sTUFBTyxFQUdkTixFQUFPSixRQUFRUyxHQUFHLGlCQUNsQkwsRUFBT08sT0FBU3RELEVBQU0wQixpQkFBaUJxQixFQUFPSixRQUFRTSxLQUFLLFdBRTNERixFQUFPTyxPQUFTdEQsRUFBTTBCLGlCQUEwQixPQUtwRCxJQUFJNkIsS0FFQVIsR0FBT0osUUFBUVMsR0FBRyxvQkFBbUJHLEVBQVczQyxRQUFVbUMsRUFBT0osUUFBUU0sS0FBSyxZQUM5RUYsRUFBT0osUUFBUVMsR0FBRyx1QkFBc0JHLEVBQVcxQyxXQUFha0MsRUFBT0osUUFBUU0sS0FBSyxlQUNwRkYsRUFBT0osUUFBUVMsR0FBRyx1QkFBc0JHLEVBQVd6QyxXQUFhaUMsRUFBT0osUUFBUU0sS0FBSyxlQUNwRkYsRUFBT0osUUFBUVMsR0FBRyx1QkFBc0JHLEVBQVd4QyxXQUFhZ0MsRUFBT0osUUFBUU0sS0FBSyxlQUNwRkYsRUFBT0osUUFBUVMsR0FBRyxvQkFBbUJHLEVBQVd2QyxRQUFVK0IsRUFBT0osUUFBUU0sS0FBSyxZQUM5RUYsRUFBT0osUUFBUVMsR0FBRyxvQkFBbUJHLEVBQVd0QyxRQUFVOEIsRUFBT0osUUFBUU0sS0FBSyxZQUM5RUYsRUFBT0osUUFBUVMsR0FBRyxvQkFBbUJHLEVBQVdyQyxRQUFVNkIsRUFBT0osUUFBUU0sS0FBSyxZQUM5RUYsRUFBT0osUUFBUVMsR0FBRyxrQkFBaUJHLEVBQVdwQyxNQUFRNEIsRUFBT0osUUFBUU0sS0FBSyxVQUMxRUYsRUFBT0osUUFBUVMsR0FBRyxtQkFBa0JHLEVBQVduQyxPQUFTMkIsRUFBT0osUUFBUU0sS0FBSyxXQUM1RUYsRUFBT0osUUFBUVMsR0FBRyxtQkFBa0JHLEVBQVdsQyxPQUFTMEIsRUFBT0osUUFBUU0sS0FBSyxXQUM1RUYsRUFBT0osUUFBUVMsR0FBRyxtQkFBa0JHLEVBQVdqQyxPQUFTeUIsRUFBT0osUUFBUU0sS0FBSyxXQUVoRkYsRUFBT1EsV0FBYUEsRUFFcEJYLEVBQVFZLEtBQUtULEtBR2pCSixFQUFRQyxRQUFVQSxFQUVsQjVDLEVBQU1TLFNBQVMrQyxLQUFLYixNQU81QjNDLEVBQU15QyxPQUFTLFdBQ1h6RCxPQUFPeUUsc0JBQXNCLFdBQ3pCekQsRUFBTTBELDJCQUVGMUQsRUFBTVEsdUJBQXlCUixFQUFNTSxlQUNyQ04sRUFBTTJELDBCQUNOM0QsRUFBTTRELFdBR1Y1RCxFQUFNUSxzQkFBd0JSLEVBQU1NLGdCQU81Q04sRUFBTTRELFFBQVUsV0FLWixJQUFLLEdBRkRDLEdBQTBCN0QsRUFBTVUsaUJBQWlCb0QsT0FFNUNDLEVBQUksRUFBT0YsRUFBSkUsRUFBNkJBLElBT3pDLElBQUssR0FORHBCLEdBQVUzQyxFQUFNVSxpQkFBaUJxRCxHQUlqQ0MsRUFBaUJyQixFQUFRQyxRQUFRa0IsT0FFNUJHLEVBQUksRUFBT0QsRUFBSkMsRUFBb0JBLElBQUssQ0FDckMsR0FBSWxCLEdBQVNKLEVBQVFDLFFBQVFxQixFQUk3QixRQUFRbEIsRUFBT0MsTUFDWCxJQUFLLE9BQ0wsSUFBSyxPQUNELEdBQUlrQixHQUFRdkIsRUFBUXpELElBQU1jLEVBQU1LLGdCQUM1QjhELEVBQU14QixFQUFRbkQsTUFDbEIsTUFFSixLQUFLLE9BQ0QsR0FBSTBFLEdBQVF2QixFQUFRbkQsT0FBU1EsRUFBTUssZ0JBQy9COEQsRUFBTXhCLEVBQVFuRCxNQUNsQixNQUVKLFNBQ0ksR0FBSTBFLEdBQVF2QixFQUFRekQsSUFBTWMsRUFBTUssZ0JBQzVCOEQsRUFBTXhCLEVBQVF6RCxJQU10QjZELEVBQU9NLE9BQ0ssRUFBUmEsSUFBV0EsRUFBUSxHQUNuQkMsRUFBT25FLEVBQU1JLFlBQWNKLEVBQU1LLGtCQUFrQjhELEVBQU1uRSxFQUFNSSxZQUFjSixFQUFNSyxpQkFLM0YsSUFBSStELElBQVVwRSxFQUFNTSxhQUFlNEQsSUFBVUMsRUFBTUQsR0FJL0NoQixFQUFPSCxFQUFhLEtBQ3BCSSxFQUFLSixFQUFXLEdBRWhCZSxFQUFTWCxFQUFLRCxFQUVkbUIsR0FBbUJELEVBQVNsQixHQUFRWSxFQUlwQ1EsRUFBZXZCLEVBQU9PLE9BQU9lLEdBSTdCekQsRUFBVVosRUFBTXVFLGNBQWNILEVBQVFFLEVBQWNwQixFQUFNQyxFQUFJSixFQUFRLFdBQ3RFakMsRUFBYWQsRUFBTXVFLGNBQWNILEVBQVFFLEVBQWNwQixFQUFNQyxFQUFJSixFQUFRLGNBQ3pFbEMsRUFBYWIsRUFBTXVFLGNBQWNILEVBQVFFLEVBQWNwQixFQUFNQyxFQUFJSixFQUFRLGNBQ3pFaEMsRUFBYWYsRUFBTXVFLGNBQWNILEVBQVFFLEVBQWNwQixFQUFNQyxFQUFJSixFQUFRLGNBQ3pFL0IsRUFBVWhCLEVBQU11RSxjQUFjSCxFQUFRRSxFQUFjcEIsRUFBTUMsRUFBSUosRUFBUSxXQUN0RTlCLEVBQVVqQixFQUFNdUUsY0FBY0gsRUFBUUUsRUFBY3BCLEVBQU1DLEVBQUlKLEVBQVEsV0FDdEU3QixFQUFVbEIsRUFBTXVFLGNBQWNILEVBQVFFLEVBQWNwQixFQUFNQyxFQUFJSixFQUFRLFdBQ3RFNUIsRUFBUW5CLEVBQU11RSxjQUFjSCxFQUFRRSxFQUFjcEIsRUFBTUMsRUFBSUosRUFBUSxTQUNwRTNCLEVBQVNwQixFQUFNdUUsY0FBY0gsRUFBUUUsRUFBY3BCLEVBQU1DLEVBQUlKLEVBQVEsVUFDckUxQixFQUFTckIsRUFBTXVFLGNBQWNILEVBQVFFLEVBQWNwQixFQUFNQyxFQUFJSixFQUFRLFVBQ3JFekIsRUFBU3RCLEVBQU11RSxjQUFjSCxFQUFRRSxFQUFjcEIsRUFBTUMsRUFBSUosRUFBUSxTQUlyRSxVQUFXQSxHQUFPUSxhQUNsQm5DLEVBQVNELEVBQ1RFLEVBQVNGLEVBQ1RHLEVBQVNILEdBS2I0QixFQUFPSixRQUFRNkIsS0FDWDVELFFBQVdBLEVBQ1g2RCxVQUFhLGdCQUFrQjVELEVBQWEsUUFBVUMsRUFBYSxRQUFVQyxFQUFhLGlCQUFtQkMsRUFBVSxrQkFBb0JDLEVBQVUsa0JBQW9CQyxFQUFVLGtCQUFvQkUsRUFBUyxNQUFRQyxFQUFTLE1BQVFDLEVBQVMsS0FDbFBvRCxvQkFBcUIsZ0JBQWtCN0QsRUFBYSxRQUFVQyxFQUFhLFFBQVVDLEVBQWEsaUJBQW1CQyxFQUFVLGtCQUFvQkMsRUFBVSxrQkFBb0JDLEVBQVUsa0JBQW9CRSxFQUFTLE1BQVFDLEVBQVMsTUFBUUMsRUFBUyxTQVMxUXRCLEVBQU11RSxjQUFnQixTQUFTSCxFQUFRRSxFQUFjcEIsRUFBTUMsRUFBSUosRUFBUTRCLEdBQ25FLEdBQUlDLEdBQWdCNUUsRUFBTVcsa0JBQWtCZ0UsRUFJNUMsTUFBTUEsSUFBWTVCLEdBQU9RLFlBQWEsTUFBT3FCLEVBRTdDLElBQUlDLEdBQWU5QixFQUFPUSxXQUFXb0IsR0FFakNHLEVBQVkzQixFQUFLRCxHQUFRLEdBQU8sQ0FJcEMsSUFBYUEsRUFBVGtCLEdBQWlCVSxFQUNqQixNQUFPRixFQUVYLElBQUlSLEVBQVNqQixHQUFNMkIsRUFDZixNQUFPRCxFQUdYLElBQUlULEVBQVNsQixJQUFTNEIsRUFDbEIsTUFBT0YsRUFFWCxJQUFhekIsRUFBVGlCLElBQWdCVSxFQUNoQixNQUFPRCxFQUtYLElBQUlFLEdBQVlILEVBQWlCTixHQUFnQk8sRUFBZUQsRUFJaEUsUUFBUUQsR0FDSixJQUFLLFVBQ0RJLEVBQVlBLEVBQVVDLFFBQVEsRUFDOUIsTUFDSixLQUFLLGFBQ0RELEVBQVlBLEVBQVVDLFFBQVEsRUFDOUIsTUFDSixLQUFLLGFBQ0RELEVBQVlBLEVBQVVDLFFBQVEsRUFDOUIsTUFDSixLQUFLLGFBQ0RELEVBQVlBLEVBQVVDLFFBQVEsRUFDOUIsTUFDSixLQUFLLFVBQ0RELEVBQVlBLEVBQVVDLFFBQVEsRUFDOUIsTUFDSixLQUFLLFVBQ0RELEVBQVlBLEVBQVVDLFFBQVEsRUFDOUIsTUFDSixLQUFLLFVBQ0RELEVBQVlBLEVBQVVDLFFBQVEsRUFDOUIsTUFDSixLQUFLLFFBQ0RELEVBQVlBLEVBQVVDLFFBQVEsR0FRdEMsTUFBT0QsSUFNWC9FLEVBQU0wRCx5QkFBMkIsV0FDN0IxRCxFQUFNTSxhQUFlSCxFQUFRaEIsWUFDN0JhLEVBQU1PLGdCQUFrQlAsRUFBTU0sYUFBZU4sRUFBTUssaUJBTXZETCxFQUFNMkQsd0JBQTBCLFdBQzVCM0QsRUFBTVUsbUJBSU4sS0FBSyxHQUZEdUUsR0FBa0JqRixFQUFNUyxTQUFTcUQsT0FFNUJDLEVBQUksRUFBT2tCLEVBQUpsQixFQUFxQkEsSUFDNUIvRCxFQUFNUyxTQUFTc0QsR0FBRzdFLElBQU1jLEVBQU1PLGlCQUFxQlAsRUFBTVMsU0FBU3NELEdBQUd2RSxPQUFTUSxFQUFNTSxjQUNyRk4sRUFBTVUsaUJBQWlCOEMsS0FBS3hELEVBQU1TLFNBQVNzRCxLQVF2RC9ELEVBQU1vQyxVQUFZLFdBR2RwQyxFQUFNa0Ysa0JBQ05sRixFQUFNbUYseUJBSU5uRixFQUFNMEQsMkJBQ04xRCxFQUFNMkQsMEJBQ04zRCxFQUFNNEQsV0FNVjVELEVBQU1rRixnQkFBa0IsV0FDcEJsRixFQUFNSSxZQUFjSCxFQUFVUixTQUM5Qk8sRUFBTUssZ0JBQWtCRixFQUFRVixVQU1wQ08sRUFBTW1GLHVCQUF5QixXQUczQixJQUFLLEdBRkRGLEdBQWtCakYsRUFBTVMsU0FBU3FELE9BRTVCQyxFQUFJLEVBQU9rQixFQUFKbEIsRUFBcUJBLElBQUssQ0FDdEMsR0FBSXFCLEdBQWlCcEYsRUFBTVMsU0FBU3NELEdBQUdwQixRQUFRN0MsY0FDM0N1RixFQUFXckYsRUFBTVMsU0FBU3NELEdBQUdwQixRQUFRL0MsUUFFekNJLEdBQU1TLFNBQVNzRCxHQUFHdEUsT0FBUzJGLEVBQzNCcEYsRUFBTVMsU0FBU3NELEdBQUc3RSxJQUFNbUcsRUFBU25HLElBQ2pDYyxFQUFNUyxTQUFTc0QsR0FBR3ZFLE9BQVM2RixFQUFTbkcsSUFBTWtHLElBT2xEbkYsRUFBVW9DLEdBQUdyQyxFQUFNZ0MsWUFBWXNELEtBQUssS0FBTSxXQUN0Q3RGLEVBQU1rQyxTQUtIbEMsR0FRUHVGLFNBRUFDLGNBQWVDLFNBQVNDLFNBQVcsS0FBT0QsU0FBU0UsS0FBT0YsU0FBU0csU0FFbkUxRCxLQUFNLFdBQ0ZxRCxRQUFRTSxhQUdaQSxVQUFXLFdBRVBsSCxFQUFFLG1CQUFtQjBELEdBQUcsUUFBUyxTQUFTeUQsR0FFdEMsR0FBSW5ILEVBQUUsaUJBQWlCb0gsSUFBSSxPQUFPakMsT0FBUyxFQUV2QyxXQURBbkYsR0FBRSxpQkFBaUJxSCxPQUd2QixJQUFJQyxHQUFLL0YsU0FBU2dHLGNBQWMsTUFDaENELEdBQUdFLGFBQWEsa0JBQW1CWixRQUFRQyxlQUMzQ1MsRUFBR0UsYUFBYSxXQUFZVixTQUFTVyxNQUNyQ0gsRUFBR0UsYUFBYSxhQUFjeEgsRUFBRSxTQUFTMEgsUUFDekNDLFFBQVFDLFlBQVlOLEdBQ3BCdEgsRUFBRSxpQkFBaUI2SCxPQUFPUCxHQUV0QnRILEVBQUUsaUJBQWlCb0gsSUFBSSxPQUFPakMsT0FBUyxHQUN2Q3ZCLFdBQVcsV0FDUDVELEVBQUUsaUJBQWlCOEgsU0FBUyxjQUM3QixLQUlQbEUsV0FBVyxXQUN1QyxHQUExQzVELEVBQUUsaUJBQWlCRyxxQkFDbkJILEVBQUUsbUJBQW1COEgsU0FBUyxvQkFBb0JDLFFBQVEsTUFFL0QsU0FZWEMsU0FDQUMsVUFBVSxFQUNWMUUsS0FBTSxXQUNGeUUsUUFBUUUsY0FDUkYsUUFBUUcsV0FDUkgsUUFBUUksa0JBQ1IsSUFBSUMsR0FBS0MsVUFBVUMsVUFBVUMsYUFFTSxtQkFBL0JILEVBQUdJLE1BQU0scUJBQ1RULFFBQVFDLFVBQVcsSUFLM0JFLFNBQVUsU0FBUzdDLEdBQ2ZBLEVBQUlBLEdBQUtqRixPQUFPcUksTUFDQyxNQUFicEQsRUFBRXFELFNBQ0ZDLFFBQVFDLElBQUksUUFDWjdJLEVBQUUsYUFBYThJLE9BQ2Y5SSxFQUFFLGFBQWFpRixTQUNYekUsVUFBV1IsRUFBRUssUUFBUXlJLE9BQU90SSxZQUFjLEtBQzNDLFNBQ2lCLE1BQWI4RSxFQUFFcUQsVUFDVDNJLEVBQUUsYUFBYThJLE9BQ2Y5SSxFQUFFLGFBQWFpRixTQUNYekUsVUFBV1IsRUFBRUssUUFBUXlJLE9BQU90SSxZQUFjLEtBQzNDLFVBSVg0SCxpQkFBa0IsV0FJZCxRQUFTQSxLQUNMLEdBQUlXLEdBQVEvSSxFQUFFZ0IsTUFDVmdJLEVBQWVDLEVBQWEvSCxhQUM1QmdJLEVBQWFsSSxLQUFLbUksWUFFbEJELElBQWNGLEVBQ2RELEVBQU1qQixTQUFTLFlBRWZpQixFQUFNSyxZQUFZLFlBTTFCLFFBQVNDLEtBQ0xDLEVBQUt2RixLQUFLcUUsR0FsQmQsR0FBSWEsR0FBZWpKLEVBQUUsZ0JBQ3JCaUosR0FBYU0sU0FjYixJQUFJRCxHQUFPdEosRUFBRSwwQkFBMEIwRCxHQUFHLE9BQVEwRSxFQU1sRGlCLE1BSUpHLFlBQWEsU0FBU0MsR0FDbEIsR0FBSUMsR0FDQUMsRUFDQUMsR0FDQUMsUUFBVyxlQUNYQyxNQUFTLGFBQ1RDLE1BQVMsYUFDVEMsU0FBWSxnQkFDWkMsT0FBVSxjQUNWQyxPQUFVLGNBQ1ZDLE9BQVUsY0FDVkMsT0FBVSxjQUNWQyxRQUFXLGVBSWYsS0FBSyxHQUFJQyxLQUFRVixHQUNiLEdBQTZCLGtCQUFsQkEsR0FBUVUsR0FBc0IsQ0FDckMsR0FBSUMsR0FBU0QsQ0FDVGIsR0FBSWUsUUFBUUQsSUFBVyxJQUN2QmIsRUFBU2EsRUFDVFosRUFBVUMsRUFBUVcsSUFLOUIsTUFBT1osSUFHWGMsU0FBVSxXQUVOekssRUFBRSx5Q0FBeUMrRCxLQUFLLFNBQVNxQixHQUNyRCxHQUFJc0YsR0FBTzFLLEVBQUVnQixNQUFNMkosS0FBSyxRQUNwQkMsRUFBTXJKLFNBQVNnRyxjQUFjLElBQ2pDcUQsR0FBSW5ELEtBQU9pRCxFQUNYRyxZQUFjRCxFQUFJRSxTQUNsQjlDLFFBQVF3QixZQUFZcUIsYUFDcEJqQyxRQUFRQyxJQUFJZ0MsYUFFWjdLLEVBQUVnQixNQUFNK0osUUFBUSxzQkFBd0IvQyxRQUFRd0IsWUFBWXFCLGFBQWUsU0FDM0UsSUFBSUcsR0FBYWhMLEVBQUVnQixNQUFNa0QsS0FBSyxLQUFLMkIsSUFBSSxTQUNuQ29GLEVBQWlCakwsRUFBRWdCLE1BQU02RSxJQUFJLFFBR2pDN0YsR0FBRWdCLE1BQU1rSyxNQUFNLFdBQ1ZsTCxFQUFFZ0IsTUFBTTZFLElBQUksUUFBU21GLEdBQ3JCaEwsRUFBRWdCLE1BQU04RyxTQUFTLG1CQUNsQixXQUNDOUgsRUFBRWdCLE1BQU02RSxJQUFJLFFBQVNvRixHQUNyQmpMLEVBQUVnQixNQUFNb0ksWUFBWSx1QkFPaENsQixZQUFhLFNBQVN4QixHQUNsQixHQUFJeUUsR0FBYSxTQUNiQyxFQUFjMUUsR0FBWTFHLEVBQUVLLFFBQVFTLFNBQ3BDdUssRUFBU3JMLEVBQUUsa0NBQW9DbUwsRUFBYSwwQ0FBMENHLFNBQVMsT0FDbkh0TCxHQUFFSyxRQUFRb0YsT0FBTyxXQUNUekYsRUFBRUssUUFBUUcsWUFBY1IsRUFBRUssUUFBUVMsU0FDbEN1SyxFQUFPRSxPQUFPLEtBRWRGLEVBQU90RCxRQUFRLE9BSXZCc0QsRUFBT0csTUFBTSxTQUFTbEcsR0FDbEJBLEVBQUVtRyxpQkFDRXpMLEVBQUVLLFFBQVFPLFFBQVUsSUFDcEJaLEVBQUUsYUFBYWlGLFNBQ1h6RSxVQUFXLEdBQ1osSUFBSyxXQUNKSCxPQUFPeUcsU0FBUzRFLEtBQU8sTUFHM0IxTCxFQUFFLGFBQWFpRixTQUNYekUsVUFBVzRLLEVBQWMsS0FDMUIsSUFBSyxXQUNKL0ssT0FBT3lHLFNBQVM0RSxLQUFPLE1BSS9COUMsUUFBUUMsSUFBSSxTQUlwQjhDLE9BQVEsV0FDSkMsb0JBQXNCNUwsRUFBRUssUUFBUU8sU0FZeENaLEdBQUV1QixVQUFVc0ssTUFBTSxXQUNkN0QsUUFBUXpFLE9BQ2dCLEdBQXBCeUUsUUFBUUMsVUFDSmpJLEVBQUVLLFFBQVFPLFFBQVUsTUFDcEJnSSxRQUFRQyxJQUFJLGdCQUNaekgsU0FBU3BCLElBS2JBLEVBQUUsUUFBUThMLFNBQVMsbUJBQ25COUQsUUFBUUksbUJBQ1JwSSxFQUFFLG9CQUFvQjhILFNBQVMsZUFDL0JFLFFBQVF5QyxXQUVSekssRUFBRSxhQUFhMEQsR0FBRyxRQUFTLFdBQ3ZCMUQsRUFBRWdCLE1BQU0rRyxRQUFRLElBQ2hCL0gsRUFBRSxnQkFBZ0I2RixJQUFJLFVBQVcsU0FBU2lDLFNBQVMscUJBSXZEbEIsUUFBUXJELE9BQ1J2RCxFQUFFLGlDQUFpQytELEtBQUssV0FDcEMsR0FBSTFDLEdBQVFyQixFQUFFZ0IsS0FDZEssR0FBTXlHLFNBQVMsWUFFa0IsR0FBN0J6RyxFQUFNbEIscUJBQ05rQixFQUFNeUcsU0FBUyxZQUFZQSxTQUFTLHVCQU81QzlILEVBQUUsUUFBUThMLFNBQVMscUJBQXVCOUwsRUFBRSxRQUFROEwsU0FBUyxvQkFHekQ5TCxFQUFFSyxRQUFRTyxRQUFVLElBQ3hCWixFQUFFLGlCQUFpQitELEtBQUssV0FDcEIsR0FBSTFDLEdBQVFyQixFQUFFZ0IsS0FDbUIsSUFBN0JLLEVBQU1sQixxQkFDTmtCLEVBQU15RyxTQUFTLHFCQUt2QjlILEVBQUUsaUJBQWlCK0QsS0FBSyxXQUNwQixHQUFJMUMsR0FBUXJCLEVBQUVnQixLQUNpQixJQUEzQkssRUFBTStGLElBQUksT0FBT2pDLFFBQ2pCeUQsUUFBUUMsSUFBSSxRQUNaeEgsRUFBTXdHLE9BQU8sdUVBRWJlLFFBQVFDLElBQUksV0FNeEI3SSxFQUFFLGVBQWV3TCxNQUFNLFdBTW5CLE1BTEF4TCxHQUFFLGFBQWFpRixTQUNYekUsVUFBV1IsRUFBRUssUUFBUVMsU0FBVyxJQUNqQyxJQUFNLGVBR0YsSUFJWGQsRUFBRUssUUFBUW9GLE9BQU8sV0FFVHpGLEVBQUVLLFFBQVFHLFlBQWMsR0FLeEJSLEVBQUUsUUFBUThMLFNBQVMsbUJBQzBCLEdBQXpDOUwsRUFBRSxnQkFBZ0JHLHNCQUNsQkgsRUFBRSxnQkFBZ0JvSixZQUFZLHdCQUF3QnZELElBQUksVUFBVyxRQUNyRTdGLEVBQUUsYUFBYTZGLElBQUksVUFBVyxVQUVWLEdBQXBCbUMsUUFBUUMsVUFDbUMsR0FBdkNqSSxFQUFFLGNBQWNHLHNCQUNoQnlJLFFBQVFDLElBQUksT0FDWjdJLEVBQUUsa0JBQWtCNkYsSUFBSSxVQUFXLFNBQVNpQyxTQUFTLDJCQU03RDlILEVBQUUsUUFBUThMLFNBQVMscUJBQXVCOUwsRUFBRSxRQUFROEwsU0FBUyxtQkFDN0Q5TCxFQUFFLGlCQUFpQitELEtBQUssV0FDcEIsR0FBSTFDLEdBQVFyQixFQUFFZ0IsS0FDbUIsSUFBN0JLLEVBQU1sQixxQkFBb0UsR0FBckNrQixFQUFNeUssU0FBUyIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJC5mbi5leHRlbmQoe1xuICAgIGlzT25TY3JlZW5WaXNpYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdpbiA9ICQod2luZG93KTtcbiAgICAgICAgdmFyIHZpZXdwb3J0ID0ge1xuICAgICAgICAgICAgdG9wOiB3aW4uc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICBsZWZ0OiB3aW4uc2Nyb2xsTGVmdCgpXG4gICAgICAgIH07XG4gICAgICAgIHZpZXdwb3J0LnJpZ2h0ID0gdmlld3BvcnQubGVmdCArIHdpbi53aWR0aCgpO1xuICAgICAgICB2aWV3cG9ydC5ib3R0b20gPSB2aWV3cG9ydC50b3AgKyB3aW4uaGVpZ2h0KCk7XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMub2Zmc2V0KCk7XG4gICAgICAgIGJvdW5kcy5yaWdodCA9IGJvdW5kcy5sZWZ0ICsgdGhpcy5vdXRlcldpZHRoKCk7XG4gICAgICAgIGJvdW5kcy5ib3R0b20gPSBib3VuZHMudG9wICsgdGhpcy5vdXRlckhlaWdodCgpO1xuXG4gICAgICAgIHJldHVybiAoISh2aWV3cG9ydC5yaWdodCA8IGJvdW5kcy5sZWZ0IHx8IHZpZXdwb3J0LmxlZnQgPiBib3VuZHMucmlnaHQgfHwgdmlld3BvcnQuYm90dG9tIDwgYm91bmRzLnRvcCB8fCB2aWV3cG9ydC50b3AgPiBib3VuZHMuYm90dG9tKSk7XG4gICAgfVxufSk7XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU2Nyb2xsTWVcbi8vIEEgalF1ZXJ5IHBsdWdpbiBmb3IgYWRkaW5nIHNpbXBsZSBzY3JvbGxpbmcgZWZmZWN0cyB0byB3ZWIgcGFnZXNcbi8vIGh0dHA6Ly9zY3JvbGxtZS5uY2twcnNuLmNvbVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgc2Nyb2xsbWUgPSAoZnVuY3Rpb24oJCkge1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBTY3JvbGxNZSBvYmplY3RcblxuICAgIHZhciBfdGhpcyA9IHt9O1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFByb3BlcnRpZXNcblxuICAgIHZhciAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcblxuICAgIF90aGlzLmJvZHlfaGVpZ2h0ID0gMDtcblxuICAgIF90aGlzLnZpZXdwb3J0X2hlaWdodCA9IDA7XG5cbiAgICBfdGhpcy52aWV3cG9ydF90b3AgPSAwO1xuICAgIF90aGlzLnZpZXdwb3J0X2JvdHRvbSA9IDA7XG5cbiAgICBfdGhpcy52aWV3cG9ydF90b3BfcHJldmlvdXMgPSAtMTtcblxuICAgIF90aGlzLmVsZW1lbnRzID0gW107XG4gICAgX3RoaXMuZWxlbWVudHNfaW5fdmlldyA9IFtdO1xuXG4gICAgX3RoaXMucHJvcGVydHlfZGVmYXVsdHMgPSB7XG4gICAgICAgICdvcGFjaXR5JzogMSxcbiAgICAgICAgJ3RyYW5zbGF0ZXgnOiAwLFxuICAgICAgICAndHJhbnNsYXRleSc6IDAsXG4gICAgICAgICd0cmFuc2xhdGV6JzogMCxcbiAgICAgICAgJ3JvdGF0ZXgnOiAwLFxuICAgICAgICAncm90YXRleSc6IDAsXG4gICAgICAgICdyb3RhdGV6JzogMCxcbiAgICAgICAgJ3NjYWxlJzogMSxcbiAgICAgICAgJ3NjYWxleCc6IDEsXG4gICAgICAgICdzY2FsZXknOiAxLFxuICAgICAgICAnc2NhbGV6JzogMVxuICAgIH07XG5cbiAgICBfdGhpcy5zY3JvbGxtZV9zZWxlY3RvciA9ICcuc2Nyb2xsbWUnO1xuICAgIF90aGlzLmFuaW1hdGVtZV9zZWxlY3RvciA9ICcuYW5pbWF0ZW1lJztcblxuICAgIF90aGlzLnVwZGF0ZV9pbnRlcnZhbCA9IDEwO1xuXG4gICAgLy8gRWFzaW5nIGZ1bmN0aW9uc1xuXG4gICAgX3RoaXMuZWFzaW5nX2Z1bmN0aW9ucyA9IHtcbiAgICAgICAgJ2xpbmVhcic6IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9LFxuXG4gICAgICAgICdlYXNlb3V0JzogZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggKiB4ICogeDtcbiAgICAgICAgfSxcblxuICAgICAgICAnZWFzZWluJzogZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgeCA9IDEgLSB4O1xuICAgICAgICAgICAgcmV0dXJuIDEgLSAoeCAqIHggKiB4KTtcbiAgICAgICAgfSxcblxuICAgICAgICAnZWFzZWlub3V0JzogZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgaWYgKHggPCAwLjUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDQgKiB4ICogeCAqIHgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gMSAtIHg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLSAoNCAqIHggKiB4ICogeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRG9jdW1lbnQgZXZlbnRzIHRvIGJpbmQgaW5pdGlhbGlzYXRpb24gdG9cblxuICAgIF90aGlzLmluaXRfZXZlbnRzID0gW1xuICAgICAgICAncmVhZHknLFxuICAgICAgICAncGFnZTpsb2FkJywgLy8gVHVyYm9saW5rc1xuICAgICAgICAncGFnZTpjaGFuZ2UnIC8vIFR1cmJvbGlua3NcbiAgICBdO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEluaXRpYWxpc2F0aW9uIGNvbmRpdGlvbnNcblxuICAgIF90aGlzLmluaXRfaWYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEluaXRpYWxpc2F0aW9uXG5cbiAgICBfdGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIENhbmNlbCBpZiBpbml0aWFsaXNhdGlvbiBjb25kaXRpb25zIG5vdCBtZXRcblxuICAgICAgICBpZiAoIV90aGlzLmluaXRfaWYoKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIExvYWQgYWxsIGVsZW1lbnRzIHRvIGFuaW1hdGVcblxuICAgICAgICBfdGhpcy5pbml0X2VsZW1lbnRzKCk7XG5cbiAgICAgICAgLy8gR2V0IGVsZW1lbnQgJiB2aWV3cG9ydCBzaXplc1xuXG4gICAgICAgIF90aGlzLm9uX3Jlc2l6ZSgpO1xuXG4gICAgICAgIC8vIFJlY2FsY3VsYXRlIGhlaWdodHMgJiBwb3NpdGlvbnMgb24gcmVzaXplIGFuZCByb3RhdGVcblxuICAgICAgICAkd2luZG93Lm9uKCdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF90aGlzLm9uX3Jlc2l6ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZWNhbGN1bGF0ZSBoZWlnaHRzICYgcG9zaXRpb25zIHdoZW4gcGFnZSBpcyBmdWxseSBsb2FkZWQgKyBhIGJpdCBqdXN0IGluIGNhc2VcblxuICAgICAgICAkd2luZG93LmxvYWQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uX3Jlc2l6ZSgpO1xuICAgICAgICAgICAgfSwgMTAwKVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTdGFydCBhbmltYXRpbmdcblxuICAgICAgICBzZXRJbnRlcnZhbChfdGhpcy51cGRhdGUsIF90aGlzLnVwZGF0ZV9pbnRlcnZhbCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEdldCBsaXN0IGFuZCBwcmUtbG9hZCBhbmltYXRlZCBlbGVtZW50c1xuXG4gICAgX3RoaXMuaW5pdF9lbGVtZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBGb3IgZWFjaCByZWZlcmVuY2UgZWxlbWVudFxuXG4gICAgICAgICQoX3RoaXMuc2Nyb2xsbWVfc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHt9O1xuXG4gICAgICAgICAgICBlbGVtZW50LmVsZW1lbnQgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICB2YXIgZWZmZWN0cyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBGb3IgZWFjaCBhbmltYXRlZCBlbGVtZW50XG5cbiAgICAgICAgICAgICQodGhpcykuZmluZChfdGhpcy5hbmltYXRlbWVfc2VsZWN0b3IpLmFkZEJhY2soX3RoaXMuYW5pbWF0ZW1lX3NlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIEdldCBlZmZlY3QgZGV0YWlsc1xuXG4gICAgICAgICAgICAgICAgdmFyIGVmZmVjdCA9IHt9O1xuXG4gICAgICAgICAgICAgICAgZWZmZWN0LmVsZW1lbnQgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgZWZmZWN0LndoZW4gPSBlZmZlY3QuZWxlbWVudC5kYXRhKCd3aGVuJyk7XG4gICAgICAgICAgICAgICAgZWZmZWN0LmZyb20gPSBlZmZlY3QuZWxlbWVudC5kYXRhKCdmcm9tJyk7XG4gICAgICAgICAgICAgICAgZWZmZWN0LnRvID0gZWZmZWN0LmVsZW1lbnQuZGF0YSgndG8nKTtcblxuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtY3JvcF0nKSkge1xuICAgICAgICAgICAgICAgICAgICBlZmZlY3QuY3JvcCA9IGVmZmVjdC5lbGVtZW50LmRhdGEoJ2Nyb3AnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlZmZlY3QuY3JvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5lbGVtZW50LmlzKCdbZGF0YS1lYXNpbmddJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0LmVhc2luZyA9IF90aGlzLmVhc2luZ19mdW5jdGlvbnNbZWZmZWN0LmVsZW1lbnQuZGF0YSgnZWFzaW5nJyldXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0LmVhc2luZyA9IF90aGlzLmVhc2luZ19mdW5jdGlvbnNbJ2Vhc2VvdXQnXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgYW5pbWF0ZWQgcHJvcGVydGllc1xuXG4gICAgICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtb3BhY2l0eV0nKSkgcHJvcGVydGllcy5vcGFjaXR5ID0gZWZmZWN0LmVsZW1lbnQuZGF0YSgnb3BhY2l0eScpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtdHJhbnNsYXRleF0nKSkgcHJvcGVydGllcy50cmFuc2xhdGV4ID0gZWZmZWN0LmVsZW1lbnQuZGF0YSgndHJhbnNsYXRleCcpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtdHJhbnNsYXRleV0nKSkgcHJvcGVydGllcy50cmFuc2xhdGV5ID0gZWZmZWN0LmVsZW1lbnQuZGF0YSgndHJhbnNsYXRleScpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtdHJhbnNsYXRlel0nKSkgcHJvcGVydGllcy50cmFuc2xhdGV6ID0gZWZmZWN0LmVsZW1lbnQuZGF0YSgndHJhbnNsYXRleicpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtcm90YXRleF0nKSkgcHJvcGVydGllcy5yb3RhdGV4ID0gZWZmZWN0LmVsZW1lbnQuZGF0YSgncm90YXRleCcpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtcm90YXRleV0nKSkgcHJvcGVydGllcy5yb3RhdGV5ID0gZWZmZWN0LmVsZW1lbnQuZGF0YSgncm90YXRleScpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtcm90YXRlel0nKSkgcHJvcGVydGllcy5yb3RhdGV6ID0gZWZmZWN0LmVsZW1lbnQuZGF0YSgncm90YXRleicpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtc2NhbGVdJykpIHByb3BlcnRpZXMuc2NhbGUgPSBlZmZlY3QuZWxlbWVudC5kYXRhKCdzY2FsZScpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtc2NhbGV4XScpKSBwcm9wZXJ0aWVzLnNjYWxleCA9IGVmZmVjdC5lbGVtZW50LmRhdGEoJ3NjYWxleCcpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtc2NhbGV5XScpKSBwcm9wZXJ0aWVzLnNjYWxleSA9IGVmZmVjdC5lbGVtZW50LmRhdGEoJ3NjYWxleScpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuZWxlbWVudC5pcygnW2RhdGEtc2NhbGV6XScpKSBwcm9wZXJ0aWVzLnNjYWxleiA9IGVmZmVjdC5lbGVtZW50LmRhdGEoJ3NjYWxleicpO1xuXG4gICAgICAgICAgICAgICAgZWZmZWN0LnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuXG4gICAgICAgICAgICAgICAgZWZmZWN0cy5wdXNoKGVmZmVjdCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWxlbWVudC5lZmZlY3RzID0gZWZmZWN0cztcblxuICAgICAgICAgICAgX3RoaXMuZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFVwZGF0ZSBlbGVtZW50c1xuXG4gICAgX3RoaXMudXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVfdmlld3BvcnRfcG9zaXRpb24oKTtcblxuICAgICAgICAgICAgaWYgKF90aGlzLnZpZXdwb3J0X3RvcF9wcmV2aW91cyAhPSBfdGhpcy52aWV3cG9ydF90b3ApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVfZWxlbWVudHNfaW5fdmlldygpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFuaW1hdGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMudmlld3BvcnRfdG9wX3ByZXZpb3VzID0gX3RoaXMudmlld3BvcnRfdG9wO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQW5pbWF0ZSBzdHVmZlxuXG4gICAgX3RoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBGb3IgZWFjaCBlbGVtZW50IGluIHZpZXdwb3J0XG5cbiAgICAgICAgdmFyIGVsZW1lbnRzX2luX3ZpZXdfbGVuZ3RoID0gX3RoaXMuZWxlbWVudHNfaW5fdmlldy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50c19pbl92aWV3X2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnRzX2luX3ZpZXdbaV07XG5cbiAgICAgICAgICAgIC8vIEZvciBlYWNoIGVmZmVjdFxuXG4gICAgICAgICAgICB2YXIgZWZmZWN0c19sZW5ndGggPSBlbGVtZW50LmVmZmVjdHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IGVmZmVjdHNfbGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZWZmZWN0ID0gZWxlbWVudC5lZmZlY3RzW2VdO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IGVmZmVjdCBhbmltYXRpb24gYm91bmRhcmllc1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChlZmZlY3Qud2hlbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd2aWV3JzogLy8gTWFpbnRhaW5lZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3Bhbic6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBlbGVtZW50LnRvcCAtIF90aGlzLnZpZXdwb3J0X2hlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBlbGVtZW50LmJvdHRvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2V4aXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gZWxlbWVudC5ib3R0b20gLSBfdGhpcy52aWV3cG9ydF9oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gZWxlbWVudC5ib3R0b207XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gZWxlbWVudC50b3AgLSBfdGhpcy52aWV3cG9ydF9oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gZWxlbWVudC50b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDcm9wIGJvdW5kYXJpZXNcblxuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuY3JvcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPiAoX3RoaXMuYm9keV9oZWlnaHQgLSBfdGhpcy52aWV3cG9ydF9oZWlnaHQpKSBlbmQgPSBfdGhpcy5ib2R5X2hlaWdodCAtIF90aGlzLnZpZXdwb3J0X2hlaWdodDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgc2Nyb2xsIHBvc2l0aW9uIG9mIHJlZmVyZW5jZSBzZWxlY3RvclxuXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbCA9IChfdGhpcy52aWV3cG9ydF90b3AgLSBzdGFydCkgLyAoZW5kIC0gc3RhcnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IHJlbGF0aXZlIHNjcm9sbCBwb3NpdGlvbiBmb3IgZWZmZWN0XG5cbiAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IGVmZmVjdFsnZnJvbSddO1xuICAgICAgICAgICAgICAgIHZhciB0byA9IGVmZmVjdFsndG8nXTtcblxuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSB0byAtIGZyb207XG5cbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsX3JlbGF0aXZlID0gKHNjcm9sbCAtIGZyb20pIC8gbGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgZWFzaW5nXG5cbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsX2Vhc2VkID0gZWZmZWN0LmVhc2luZyhzY3JvbGxfcmVsYXRpdmUpO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IG5ldyB2YWx1ZSBmb3IgZWFjaCBwcm9wZXJ0eVxuXG4gICAgICAgICAgICAgICAgdmFyIG9wYWNpdHkgPSBfdGhpcy5hbmltYXRlX3ZhbHVlKHNjcm9sbCwgc2Nyb2xsX2Vhc2VkLCBmcm9tLCB0bywgZWZmZWN0LCAnb3BhY2l0eScpO1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGV5ID0gX3RoaXMuYW5pbWF0ZV92YWx1ZShzY3JvbGwsIHNjcm9sbF9lYXNlZCwgZnJvbSwgdG8sIGVmZmVjdCwgJ3RyYW5zbGF0ZXknKTtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRleCA9IF90aGlzLmFuaW1hdGVfdmFsdWUoc2Nyb2xsLCBzY3JvbGxfZWFzZWQsIGZyb20sIHRvLCBlZmZlY3QsICd0cmFuc2xhdGV4Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZXogPSBfdGhpcy5hbmltYXRlX3ZhbHVlKHNjcm9sbCwgc2Nyb2xsX2Vhc2VkLCBmcm9tLCB0bywgZWZmZWN0LCAndHJhbnNsYXRleicpO1xuICAgICAgICAgICAgICAgIHZhciByb3RhdGV4ID0gX3RoaXMuYW5pbWF0ZV92YWx1ZShzY3JvbGwsIHNjcm9sbF9lYXNlZCwgZnJvbSwgdG8sIGVmZmVjdCwgJ3JvdGF0ZXgnKTtcbiAgICAgICAgICAgICAgICB2YXIgcm90YXRleSA9IF90aGlzLmFuaW1hdGVfdmFsdWUoc2Nyb2xsLCBzY3JvbGxfZWFzZWQsIGZyb20sIHRvLCBlZmZlY3QsICdyb3RhdGV5Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHJvdGF0ZXogPSBfdGhpcy5hbmltYXRlX3ZhbHVlKHNjcm9sbCwgc2Nyb2xsX2Vhc2VkLCBmcm9tLCB0bywgZWZmZWN0LCAncm90YXRleicpO1xuICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IF90aGlzLmFuaW1hdGVfdmFsdWUoc2Nyb2xsLCBzY3JvbGxfZWFzZWQsIGZyb20sIHRvLCBlZmZlY3QsICdzY2FsZScpO1xuICAgICAgICAgICAgICAgIHZhciBzY2FsZXggPSBfdGhpcy5hbmltYXRlX3ZhbHVlKHNjcm9sbCwgc2Nyb2xsX2Vhc2VkLCBmcm9tLCB0bywgZWZmZWN0LCAnc2NhbGV4Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHNjYWxleSA9IF90aGlzLmFuaW1hdGVfdmFsdWUoc2Nyb2xsLCBzY3JvbGxfZWFzZWQsIGZyb20sIHRvLCBlZmZlY3QsICdzY2FsZXknKTtcbiAgICAgICAgICAgICAgICB2YXIgc2NhbGV6ID0gX3RoaXMuYW5pbWF0ZV92YWx1ZShzY3JvbGwsIHNjcm9sbF9lYXNlZCwgZnJvbSwgdG8sIGVmZmVjdCwgJ3NjYWxleicpO1xuXG4gICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgc2NhbGUgdmFsdWVzXG5cbiAgICAgICAgICAgICAgICBpZiAoJ3NjYWxlJyBpbiBlZmZlY3QucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBzY2FsZXggPSBzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGV5ID0gc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxleiA9IHNjYWxlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwcm9wZXJ0aWVzXG5cbiAgICAgICAgICAgICAgICBlZmZlY3QuZWxlbWVudC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IG9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoICcgKyB0cmFuc2xhdGV4ICsgJ3B4ICwgJyArIHRyYW5zbGF0ZXkgKyAncHggLCAnICsgdHJhbnNsYXRleiArICdweCApIHJvdGF0ZVgoICcgKyByb3RhdGV4ICsgJ2RlZyApIHJvdGF0ZVkoICcgKyByb3RhdGV5ICsgJ2RlZyApIHJvdGF0ZVooICcgKyByb3RhdGV6ICsgJ2RlZyApIHNjYWxlM2QoICcgKyBzY2FsZXggKyAnICwgJyArIHNjYWxleSArICcgLCAnICsgc2NhbGV6ICsgJyApJyxcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNkKCAnICsgdHJhbnNsYXRleCArICdweCAsICcgKyB0cmFuc2xhdGV5ICsgJ3B4ICwgJyArIHRyYW5zbGF0ZXogKyAncHggKSByb3RhdGVYKCAnICsgcm90YXRleCArICdkZWcgKSByb3RhdGVZKCAnICsgcm90YXRleSArICdkZWcgKSByb3RhdGVaKCAnICsgcm90YXRleiArICdkZWcgKSBzY2FsZTNkKCAnICsgc2NhbGV4ICsgJyAsICcgKyBzY2FsZXkgKyAnICwgJyArIHNjYWxleiArICcgKScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQ2FsY3VsYXRlIHByb3BlcnR5IHZhbHVlc1xuXG4gICAgX3RoaXMuYW5pbWF0ZV92YWx1ZSA9IGZ1bmN0aW9uKHNjcm9sbCwgc2Nyb2xsX2Vhc2VkLCBmcm9tLCB0bywgZWZmZWN0LCBwcm9wZXJ0eSkge1xuICAgICAgICB2YXIgdmFsdWVfZGVmYXVsdCA9IF90aGlzLnByb3BlcnR5X2RlZmF1bHRzW3Byb3BlcnR5XTtcblxuICAgICAgICAvLyBSZXR1cm4gZGVmYXVsdCB2YWx1ZSBpZiBwcm9wZXJ0eSBpcyBub3QgYW5pbWF0ZWRcblxuICAgICAgICBpZiAoIShwcm9wZXJ0eSBpbiBlZmZlY3QucHJvcGVydGllcykpIHJldHVybiB2YWx1ZV9kZWZhdWx0O1xuXG4gICAgICAgIHZhciB2YWx1ZV90YXJnZXQgPSBlZmZlY3QucHJvcGVydGllc1twcm9wZXJ0eV07XG5cbiAgICAgICAgdmFyIGZvcndhcmRzID0gKHRvID4gZnJvbSkgPyB0cnVlIDogZmFsc2U7XG5cbiAgICAgICAgLy8gUmV0dXJuIGJvdW5kYXJ5IHZhbHVlIGlmIG91dHNpZGUgZWZmZWN0IGJvdW5kYXJpZXNcblxuICAgICAgICBpZiAoc2Nyb2xsIDwgZnJvbSAmJiBmb3J3YXJkcykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlX2RlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjcm9sbCA+IHRvICYmIGZvcndhcmRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVfdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNjcm9sbCA+IGZyb20gJiYgIWZvcndhcmRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVfZGVmYXVsdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Nyb2xsIDwgdG8gJiYgIWZvcndhcmRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVfdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIG5ldyBwcm9wZXJ0eSB2YWx1ZVxuXG4gICAgICAgIHZhciBuZXdfdmFsdWUgPSB2YWx1ZV9kZWZhdWx0ICsgKHNjcm9sbF9lYXNlZCAqICh2YWx1ZV90YXJnZXQgLSB2YWx1ZV9kZWZhdWx0KSk7XG5cbiAgICAgICAgLy8gUm91bmQgYXMgcmVxdWlyZWRcblxuICAgICAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG4gICAgICAgICAgICBjYXNlICdvcGFjaXR5JzpcbiAgICAgICAgICAgICAgICBuZXdfdmFsdWUgPSBuZXdfdmFsdWUudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RyYW5zbGF0ZXgnOlxuICAgICAgICAgICAgICAgIG5ld192YWx1ZSA9IG5ld192YWx1ZS50b0ZpeGVkKDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhbnNsYXRleSc6XG4gICAgICAgICAgICAgICAgbmV3X3ZhbHVlID0gbmV3X3ZhbHVlLnRvRml4ZWQoMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0cmFuc2xhdGV6JzpcbiAgICAgICAgICAgICAgICBuZXdfdmFsdWUgPSBuZXdfdmFsdWUudG9GaXhlZCgwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JvdGF0ZXgnOlxuICAgICAgICAgICAgICAgIG5ld192YWx1ZSA9IG5ld192YWx1ZS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncm90YXRleSc6XG4gICAgICAgICAgICAgICAgbmV3X3ZhbHVlID0gbmV3X3ZhbHVlLnRvRml4ZWQoMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyb3RhdGV6JzpcbiAgICAgICAgICAgICAgICBuZXdfdmFsdWUgPSBuZXdfdmFsdWUudG9GaXhlZCgxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NjYWxlJzpcbiAgICAgICAgICAgICAgICBuZXdfdmFsdWUgPSBuZXdfdmFsdWUudG9GaXhlZCgzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEb25lXG5cbiAgICAgICAgcmV0dXJuIG5ld192YWx1ZTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gVXBkYXRlIHZpZXdwb3J0IHBvc2l0aW9uXG5cbiAgICBfdGhpcy51cGRhdGVfdmlld3BvcnRfcG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgX3RoaXMudmlld3BvcnRfdG9wID0gJHdpbmRvdy5zY3JvbGxUb3AoKTtcbiAgICAgICAgX3RoaXMudmlld3BvcnRfYm90dG9tID0gX3RoaXMudmlld3BvcnRfdG9wICsgX3RoaXMudmlld3BvcnRfaGVpZ2h0O1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBVcGRhdGUgbGlzdCBvZiBlbGVtZW50cyBpbiB2aWV3XG5cbiAgICBfdGhpcy51cGRhdGVfZWxlbWVudHNfaW5fdmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBfdGhpcy5lbGVtZW50c19pbl92aWV3ID0gW107XG5cbiAgICAgICAgdmFyIGVsZW1lbnRzX2xlbmd0aCA9IF90aGlzLmVsZW1lbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoKF90aGlzLmVsZW1lbnRzW2ldLnRvcCA8IF90aGlzLnZpZXdwb3J0X2JvdHRvbSkgJiYgKF90aGlzLmVsZW1lbnRzW2ldLmJvdHRvbSA+IF90aGlzLnZpZXdwb3J0X3RvcCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbGVtZW50c19pbl92aWV3LnB1c2goX3RoaXMuZWxlbWVudHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFN0dWZmIHRvIGRvIG9uIHJlc2l6ZVxuXG4gICAgX3RoaXMub25fcmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB2aWV3cG9ydC9lbGVtZW50IGRhdGFcblxuICAgICAgICBfdGhpcy51cGRhdGVfdmlld3BvcnQoKTtcbiAgICAgICAgX3RoaXMudXBkYXRlX2VsZW1lbnRfaGVpZ2h0cygpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBkaXNwbGF5XG5cbiAgICAgICAgX3RoaXMudXBkYXRlX3ZpZXdwb3J0X3Bvc2l0aW9uKCk7XG4gICAgICAgIF90aGlzLnVwZGF0ZV9lbGVtZW50c19pbl92aWV3KCk7XG4gICAgICAgIF90aGlzLmFuaW1hdGUoKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gVXBkYXRlIHZpZXdwb3J0IHBhcmFtZXRlcnNcblxuICAgIF90aGlzLnVwZGF0ZV92aWV3cG9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBfdGhpcy5ib2R5X2hlaWdodCA9ICRkb2N1bWVudC5oZWlnaHQoKTtcbiAgICAgICAgX3RoaXMudmlld3BvcnRfaGVpZ2h0ID0gJHdpbmRvdy5oZWlnaHQoKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gVXBkYXRlIGhlaWdodCBvZiBhbmltYXRlZCBlbGVtZW50c1xuXG4gICAgX3RoaXMudXBkYXRlX2VsZW1lbnRfaGVpZ2h0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZWxlbWVudHNfbGVuZ3RoID0gX3RoaXMuZWxlbWVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHNfbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50X2hlaWdodCA9IF90aGlzLmVsZW1lbnRzW2ldLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IF90aGlzLmVsZW1lbnRzW2ldLmVsZW1lbnQub2Zmc2V0KCk7XG5cbiAgICAgICAgICAgIF90aGlzLmVsZW1lbnRzW2ldLmhlaWdodCA9IGVsZW1lbnRfaGVpZ2h0O1xuICAgICAgICAgICAgX3RoaXMuZWxlbWVudHNbaV0udG9wID0gcG9zaXRpb24udG9wO1xuICAgICAgICAgICAgX3RoaXMuZWxlbWVudHNbaV0uYm90dG9tID0gcG9zaXRpb24udG9wICsgZWxlbWVudF9oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQmluZCBpbml0aWFsaXNhdGlvblxuXG4gICAgJGRvY3VtZW50Lm9uKF90aGlzLmluaXRfZXZlbnRzLmpvaW4oJyAnKSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLmluaXQoKTtcbiAgICB9KTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHJldHVybiBfdGhpcztcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxufSk7XG5cblxuXG52YXIgRHVvc2h1byA9IHtcblxuICAgIGRhdGFUaHJlYWRLZXk6IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3QgKyBsb2NhdGlvbi5wYXRobmFtZSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBEdW9zaHVvLnRvZ2dsZUJveCgpO1xuICAgIH0sXG5cbiAgICB0b2dnbGVCb3g6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQoJy50b2dnbGUtY29tbWVudCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ+W8gOWQr+ivhOiuuicpO1xuICAgICAgICAgICAgaWYgKCQoJy5jb21tZW50LWFyZWEnKS5oYXMoJ2RpdicpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKCcuY29tbWVudC1hcmVhJykuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS10aHJlYWQta2V5JywgRHVvc2h1by5kYXRhVGhyZWFkS2V5KTtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS11cmwnLCBsb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS10aXRsZScsICQoJ3RpdGxlJykuaHRtbCgpKTtcbiAgICAgICAgICAgIERVT1NIVU8uRW1iZWRUaHJlYWQoZWwpO1xuICAgICAgICAgICAgJCgnLmNvbW1lbnQtYXJlYScpLmFwcGVuZChlbCk7XG5cbiAgICAgICAgICAgIGlmICgkKCcuY29tbWVudC1hcmVhJykuaGFzKCdkaXYnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmNvbW1lbnQtYXJlYScpLmFkZENsYXNzKCd0b2dnbGUtdXAnKTtcbiAgICAgICAgICAgICAgICB9LCA1MDApXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCgnLmNvbW1lbnQtYXJlYScpLmlzT25TY3JlZW5WaXNpYmxlKCkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAkKCcudG9nZ2xlLWNvbW1lbnQnKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZU91dCcpLmZhZGVPdXQoNTAwKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDEwMDApXG5cblxuXG4gICAgICAgIH0pXG5cbiAgICB9XG59XG5cblxuXG5cbnZhciBHZW5lcmFsID0ge1xuICAgIGlzV2VpeGluOiBmYWxzZSxcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgR2VuZXJhbC5zY3JvbGxUb1BvcygpO1xuICAgICAgICBHZW5lcmFsLmNoZWNrS2V5KCk7XG4gICAgICAgIEdlbmVyYWwudXBkYXRlSW1hZ2VXaWR0aCgpO1xuICAgICAgICB2YXIgVUEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKFVBLm1hdGNoKC9NaWNyb01lc3Nlbmdlci9pKSA9PSBcIm1pY3JvbWVzc2VuZ2VyXCIpIHtcbiAgICAgICAgICAgIEdlbmVyYWwuaXNXZWl4aW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8v5qih5ouf6byg5qCH5LiK5LiL5rua5YqoXG4gICAgY2hlY2tLZXk6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09ICc3NCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmjInkuIvplK7nm5gnKTtcbiAgICAgICAgICAgICQoJ2h0bWwsYm9keScpLnN0b3AoKTtcbiAgICAgICAgICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJCh3aW5kb3cpLnN0b3AoKS5zY3JvbGxUb3AoKSArIDIwMFxuICAgICAgICAgICAgfSwgJ2Zhc3QnKVxuICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnNzUnKSB7XG4gICAgICAgICAgICAkKCdodG1sLGJvZHknKS5zdG9wKCk7XG4gICAgICAgICAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6ICQod2luZG93KS5zdG9wKCkuc2Nyb2xsVG9wKCkgLSAyMDBcbiAgICAgICAgICAgIH0sICdmYXN0JylcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB1cGRhdGVJbWFnZVdpZHRoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICRwb3N0Q29udGVudCA9ICQoXCIucG9zdC1jb250ZW50XCIpO1xuICAgICAgICAkcG9zdENvbnRlbnQuZml0VmlkcygpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUltYWdlV2lkdGgoKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRXaWR0aCA9ICRwb3N0Q29udGVudC5vdXRlcldpZHRoKCksIC8vIFdpZHRoIG9mIHRoZSBjb250ZW50XG4gICAgICAgICAgICAgICAgaW1hZ2VXaWR0aCA9IHRoaXMubmF0dXJhbFdpZHRoOyAvLyBPcmlnaW5hbCBpbWFnZSByZXNvbHV0aW9uXG5cbiAgICAgICAgICAgIGlmIChpbWFnZVdpZHRoID49IGNvbnRlbnRXaWR0aCkge1xuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdmdWxsLWltZycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnZnVsbC1pbWcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciAkaW1nID0gJChcIi5zaW5nbGUtcG9zdC1pbm5lciBpbWdcIikub24oJ2xvYWQnLCB1cGRhdGVJbWFnZVdpZHRoKTtcblxuICAgICAgICBmdW5jdGlvbiBjYXNwZXJGdWxsSW1nKCkge1xuICAgICAgICAgICAgJGltZy5lYWNoKHVwZGF0ZUltYWdlV2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzcGVyRnVsbEltZygpO1xuICAgIH0sXG5cbiAgICAvKue7meaWh+eroOS4reeahHVybOa3u+WKoGljb25mb2505pa55L6/6K+G5YirKi9cbiAgICB1cmxJY29ubGl6ZTogZnVuY3Rpb24odXJsKSB7XG4gICAgICAgIHZhciBkb21haW4sXG4gICAgICAgICAgICBfb3V0cHV0O1xuICAgICAgICB2YXIgaWNvbk1hcCA9IHsgLyrntKLlvJUg5Y+v5Zyo6L+Z6YeM5re75Yqg5Yy56YWN6KeE5YiZKi9cbiAgICAgICAgICAgICd0d2l0dGVyJzogJ2ljb24tdHdpdHRlcicsXG4gICAgICAgICAgICAncXpvbmUnOiAnaWNvbi1xem9uZScsXG4gICAgICAgICAgICAnd2VpYm8nOiAnaWNvbi13ZWlibycsXG4gICAgICAgICAgICAnZmFjZWJvb2snOiAnaWNvbi1mYWNlYm9vaycsXG4gICAgICAgICAgICAnZ2l0aHViJzogJ2ljb24tZ2l0aHViJyxcbiAgICAgICAgICAgICdkb3ViYW4nOiAnaWNvbi1kb3ViYW4nLFxuICAgICAgICAgICAgJ2dvb2dsZSc6ICdpY29uLWdvb2dsZScsXG4gICAgICAgICAgICAnbHVvbGVpJzogJ2ljb24tbHVvbGVpJyxcbiAgICAgICAgICAgICdkcmliYmxlJzogJ2ljb24tZHJpYmJsZSdcblxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBpY29uTWFwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGljb25NYXBbbmFtZV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgTWFwS2V5ID0gbmFtZTtcbiAgICAgICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoTWFwS2V5KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbiA9IE1hcEtleTtcbiAgICAgICAgICAgICAgICAgICAgX291dHB1dCA9IGljb25NYXBbTWFwS2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX291dHB1dDtcbiAgICB9LFxuXG4gICAgYWRkSWNvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvKue7meWNmuWuouaWh+eroOWcsOWdgHVybOa3u+WKoGljb+ivhuWIqyovXG4gICAgICAgICQoJy5zaW5nbGUtcG9zdC1pbm5lciBwIGE6bm90KDpoYXMoaW1nKSknKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgIHZhciBfc3JjID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICB2YXIgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgdG1wLmhyZWYgPSBfc3JjO1xuICAgICAgICAgICAgX3NlbGZEb21haW4gPSB0bXAuaG9zdG5hbWU7XG4gICAgICAgICAgICBHZW5lcmFsLnVybEljb25saXplKF9zZWxmRG9tYWluKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKF9zZWxmRG9tYWluKTtcbiAgICAgICAgICAgIC8vJCh0aGlzKS5hcHBlbmQodXJsSWNvbmxpemUoX3NlbGZEb21haW4pKTtcbiAgICAgICAgICAgICQodGhpcykucHJlcGVuZCgnPGkgY2xhc3M9XCJpY29uZm9udCAnICsgR2VuZXJhbC51cmxJY29ubGl6ZShfc2VsZkRvbWFpbikgKyAnXCI+PC9pPicpO1xuICAgICAgICAgICAgdmFyIF9zZWxmQ29sb3IgPSAkKHRoaXMpLmZpbmQoJ2knKS5jc3MoJ2NvbG9yJyksXG4gICAgICAgICAgICAgICAgX29yaWdpbmFsQ29sb3IgPSAkKHRoaXMpLmNzcygnY29sb3InKTtcblxuICAgICAgICAgICAgLyrpvKDmoIfmgqzmta7ml7YqL1xuICAgICAgICAgICAgJCh0aGlzKS5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcygnY29sb3InLCBfc2VsZkNvbG9yKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBwdWxzZScpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2NvbG9yJywgX29yaWdpbmFsQ29sb3IpO1xuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkIHB1bHNlJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy/lubPmu5Hmu5rliqjliLDpobbpg6hcbiAgICBzY3JvbGxUb1BvczogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgdmFyIFNUUl9UT19UT1AgPSAn5oiR6KaB6aOe5Yiw5pyA6auYJyxcbiAgICAgICAgICAgIGNvdmVySGVpZ2h0ID0gcG9zaXRpb24gfHwgJCh3aW5kb3cpLmhlaWdodCgpOyAvL+iOt+W+l+WbvueJh+mrmOW6plxuICAgICAgICB2YXIgYnV0dG9uID0gJCgnPGEgaHJlZj1cIiNcIiBpZD1cInRvLXRvcFwiIHRpdGxlPVwiJyArIFNUUl9UT19UT1AgKyAnXCI+IDxkaXYgY2xhc3M9XCJ0by10b3Atd3JhcFwiPjwvZGl2PjwvYT4nKS5hcHBlbmRUbygnYm9keScpO1xuICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+ICQod2luZG93KS5oZWlnaHQoKSkge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5mYWRlSW4oNTAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmZhZGVPdXQoNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYnV0dG9uLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDc2OCkge1xuICAgICAgICAgICAgICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IDBcbiAgICAgICAgICAgICAgICB9LCA2MDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcjJztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogY292ZXJIZWlnaHQgLSAxMDBcbiAgICAgICAgICAgICAgICB9LCA2MDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcjJztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+aIkei3sycpO1xuICAgICAgICB9KVxuICAgIH0sXG4gICAgLy/lpITnkIblsY/luZXlj5jljJbml7ZcbiAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2aXN1YWxDb250YWluZXJXaWRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gICAgICAgIC8vIGNvbnRlbnRXaWR0aD0kKCcucG9zdC1jb250ZW50Jykud2lkdGgoKTtcbiAgICAgICAgLy8gJCgnLnNpbmdsZS1wb3N0LWlubmVyIGltZycpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vICAgICB2YXIgX2ltZyA9ICQodGhpcyk7XG4gICAgICAgIC8vICAgICBjaGVja0ltZyhfaW1nKTtcbiAgICAgICAgLy8gfSlcbiAgICB9XG5cblxuXG59XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIEdlbmVyYWwuaW5pdCgpO1xuICAgIGlmIChHZW5lcmFsLmlzV2VpeGluID09IGZhbHNlKSB7XG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDc2OCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+WPquacieWkp+Wxj+WSjOW+ruS/oeS4iuaJjeWHuuWKqOeUuycpXG4gICAgICAgICAgICBzY3JvbGxtZSgkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOaWh+eroOmhtVxuICAgIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ3Bvc3QtdGVtcGxhdGUnKSkge1xuICAgICAgICBHZW5lcmFsLnVwZGF0ZUltYWdlV2lkdGgoKTtcbiAgICAgICAgJCgnaW1nW2FsdD1cImNvdmVyXCJdJykuYWRkQ2xhc3MoJ2NvdmVyLWltYWdlJyk7XG4gICAgICAgIEdlbmVyYWwuYWRkSWNvbnMoKTtcblxuICAgICAgICAkKCcuc2hhcmUgaDQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuZmFkZU91dCgyMCk7XG4gICAgICAgICAgICAkKCcuc2hhcmUtaWNvbnMnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKS5hZGRDbGFzcygnZmFkZUluIGFuaW1hdGVkJylcbiAgICAgICAgfSlcblxuXG4gICAgICAgIER1b3NodW8uaW5pdCgpO1xuICAgICAgICAkKCcuc2luZ2xlLXBvc3QtaW5uZXIgcDpoYXMoaW1nKScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgX3RoaXMuYWRkQ2xhc3MoJ3dpdGgtaW1nJyk7XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5pc09uU2NyZWVuVmlzaWJsZSgpID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGRDbGFzcygnd2l0aC1pbWcnKS5hZGRDbGFzcygnYWxyZWFkeS12aXNpYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8g5YiX6KGo6aG1XG5cbiAgICBpZiAoJCgnYm9keScpLmhhc0NsYXNzKCdhcmNoaXZlLXRlbXBsYXRlJykgfHwgJCgnYm9keScpLmhhc0NsYXNzKCdob21lLXRlbXBsYXRlJykpIHtcblxuXG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDc2OCkge31cbiAgICAgICAgJCgnLnBvc3QtaW4tbGlzdCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzT25TY3JlZW5WaXNpYmxlKCkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkZENsYXNzKCdhbHJlYWR5LXZpc2libGUnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG5cbiAgICAgICAgJCgnLnBvc3QtZXhjZXJwdCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmhhcygnaW1nJykubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5rKh5pyJ5Zu+54mHJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYXBwZW5kKCc8aW1nIHNyYz1cImh0dHBzOi8vbHVvbGVpb3JnLmIwLnVwYWl5dW4uY29tL3RtcC9uZXYtc2V0LmpwZ1wiPjwvaW1nPicpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXaXRoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG5cbiAgICAkKCcuYXJyb3dfZG93bicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJCh3aW5kb3cpLmhlaWdodCgpIC0gMjBcbiAgICAgICAgfSwgMTAwMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcjJztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KVxuXG5cbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiA1MCkge1xuICAgICAgICAgICAgLy8gJCgnLm5hdi1oZWFkZXInKS5yZW1vdmVDbGFzcygnaGlkZScpLmFkZENsYXNzKCdmYWRlSW5Eb3duQmlnIGFuaW1hdGVkJylcbiAgICAgICAgfVxuXG5cbiAgICAgICAgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygncG9zdC10ZW1wbGF0ZScpKSB7XG4gICAgICAgICAgICBpZiAoJCgnLnNoYXJlLWljb25zJykuaXNPblNjcmVlblZpc2libGUoKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICQoJy5zaGFyZS1pY29ucycpLnJlbW92ZUNsYXNzKCdmYWRlSW5VcEJpZyBhbmltYXRlZCcpLmNzcygnZGlzcGxheScsICdub25lJylcbiAgICAgICAgICAgICAgICAkKCcuc2hhcmUgaDQnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChHZW5lcmFsLmlzV2VpeGluID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCgnLmNvcHlyaWdodCcpLmlzT25TY3JlZW5WaXNpYmxlKCkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5pi+56S65LqGJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy53ZWNoYXQtbm90aWNlJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJykuYWRkQ2xhc3MoJ2ZhZGVJblVwQmlnIGFuaW1hdGVkJylcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ2FyY2hpdmUtdGVtcGxhdGUnKSB8fCAkKCdib2R5JykuaGFzQ2xhc3MoJ2hvbWUtdGVtcGxhdGUnKSkge1xuICAgICAgICAgICAgJCgnLnBvc3QtaW4tbGlzdCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNPblNjcmVlblZpc2libGUoKSA9PSB0cnVlICYmIF90aGlzLmhhc0NsYXNzKCdhbHJlYWR5LXZpc2libGUnKSAhPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIF90aGlzLmFkZENsYXNzKCdmYWRlSW5VcEJpZyBhbmltYXRlZCcpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgfSlcblxufSlcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==